<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>写作</title>
    <link rel="stylesheet" href="css/index.css"/>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/marked.min.js"></script>
    <link rel="stylesheet" href="highlight/styles/github.css"/>
    <script src="highlight/highlight.pack.js"></script>
</head>
<body>
    <aside id="sidebar">
        <div id="resume">
            <div id="calling-card">
                <div id="portrait" class="box-ratio">
                    <div class="box-ratio-blur">
                        <img src="img/portrait.jpg"/>
                    </div>
                </div>
                <div id="describe">
                    <h3>测试测试测试测试测试测试测试</h3>
                    <div id="label-lib">
                        <label>测试</label>
                        <label>测试</label>
                        <label>测试</label>
                    </div>
                </div>
            </div>
        </div>
    </aside>
    <main>
        <div id="central">
            <nav>
                <a>测试</a>
                <a>测试</a>
                <a>测试</a>
            </nav>
            <article>
                <div id="article-describe">
                    <h3 id="article-title"></h3>
                    <span id="article-user"></span>
                    <span id="article-date"></span>
                    <span id="article-label"></span>
                </div>
                <div id="article-content"></div>
            </article>
        </div>
    </main>
    <div id="editor">
        <div id="editor-tablet">
            <div id="editor-tablet-describe">
                <input id="title-input" type="text" placeholder="文章标题"/></h3>
                <input id="user-input" type="text" placeholder="作者"/></span>
                <input id="date-input" type="date" placeholder="时间"/></span>
                <input id="label-input" type="text" placeholder="#标签#"/>
            </div>
            <div id="editor-tablet-content">
                <textarea id="content-input" rows="5" onkeydown="tab(this)" placeholder="文章内容">asdffffffffffffffffffffffffffffffffffffffgweth;olasigiuaehgklndfkjghaeirgh</textarea>
            </div>
        </div>
    </div>
    <script>
            $(function(){
                initContent();
                $("#title-input").keyup(function(){
                    $("#article-title").html($("#title-input").val());
                })
                $("#user-input").keyup(function(){
                    $("#article-user").text($("#user-input").val());
                })
                $("#date-input").change(function(){
                    $("#article-date").text($("#date-input").val());
                })
                $("#label-input").keyup(function(){
                    $("#article-label").text($("#label-input").val());
                })
                $("#content-input").keyup(function(){
                    updateContent();
                    $("#content-input").val().split("\n").length
                    $("#content-input").attr("rows",$("#content-input").val().split("\n").length+5);
                })
            })
            function initContent(){
                $("#article-title").html($("#title-input").val());
                $("#article-user").text($("#user-input").val());
                $("#article-date").text($("#date-input").val());
                $("#article-label").text($("#label-input").val());
                updateContent();
            }
            function updateContent(){
                $("#article-content").html(marked($("#content-input").val()));
                $("#article-content pre code").each(function(i, block){
                    hljs.highlightBlock(block);
                })
            }
            function tab(obj){
                if(event.keyCode == 9){
                    obj.value = obj.value + "    ";
                    event.returnValue = false;
                }
            }
        </script>
</body>
</html>